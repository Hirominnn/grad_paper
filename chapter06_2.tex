\chapter{考察}
\label{chap:discussion}
\fancyhf{}
\rhead{\thepage}
\lhead{第\ref{chap:discussion}章　考察}
\cfoot{\thepage}

本章では，実験結果を踏まえた考察を述べる．

まず，
知識獲得予測の性能の比較実験の結果から，
本研究で用いた知識分類学習モデルの有効性について考察する．
次に，同モデルにより抽出された知識タグと既存の知識タグを比較し，
それぞれの性質や，知識獲得予測に与える影響について考察する．
また，本研究や関連研究が対象としたデータの範囲から，
本研究の手法の教育学における他のデータへの適用可能性について考察する．
以上の考察を受けて，本研究の成果を実際の教育現場に適用し，活用する方法について考察する．

最後に，
今後の展望として，
本研究で用いた手法の教育学での適用の拡大について述べた後，
最後に，教育学以外の分野への応用可能性について述べる．

%粒度
%汎用性
\section{知識分類学習モデルと抽出タグの解釈}
まず，本手法で用いた知識分類学習モデルと，それによって学習された知識タグについて解釈を行う．



\subsection{知識分類学習モデルの有効性}
知識獲得予測の性能の比較実験の結果から，
本研究で用いた知識分類学習モデルの有効性について考察する．


まず，既存の知識タグを利用した場合と，各手法によって抽出したタグを利用した場合の，
知識獲得予測の精度に関して考察する．

実験結果より，知識獲得予測の文脈を考慮せず，事前学習のAutoEncoderのみから作成した知識分類を用いた「事前学習タグ」は，
既存タグを用いた場合よりも精度が悪かった一方で，
知識分類学習モデルにより，知識獲得予測を行う過程で最適化した「深層学習タグ」は，
既存タグよりも精度の良いものがあった．
この状況を直接的に解釈すれば，知識分類は，
データ構造のみに着目する教師なし学習では，知識獲得予測に有効な表現として学習できないが，
知識獲得予測という目的に応じた環境情報を制約に加えて学習することで，その環境と矛盾しない範囲で最適化が行われたと考えられる．
また，より教育学的な文脈を踏まえて解釈を試みれば，
問題と知識分類はそれ自体で自明な関係ではなく，
問題を回答する生徒の正誤や知識獲得の推移という状態の観測を通して定義されることで，適切な分類が可能になると見なすことも可能である．

また，知識獲得予測の文脈を考慮した，知識分類学習モデルを用いた手法においても，
単純な低次元空間への埋め込み(Embedding)では精度が向上しないものの，
問題空間とタグ空間の再構成誤差を導入することにより，精度が向上した．
これは，
データ量の不足に対する正則化項の導入という，ニューラルネットワークの文脈における，データの量的側面と，
問題の回答正誤と知識タグの理解状態は相互に変換できるはずだという，教育学の文脈における，データの質的側面と，
双方の性質を活かす最適化の要素として，再構成誤差が効果を発揮したと考えられる．



\subsection{各知識分類の性質と知識獲得予測に与える影響}
次に，既存タグと抽出タグのそれぞれの性質を考察し，それがどのように知識獲得予測に影響をあたえるのかを考察する．

まず，図\ref{fig:aAppearHist}，\ref{fig:kAppearHist}に表される，既存タグと抽出タグの問題回答ログにおける出現回数の分布から，
既存タグは分散が大きい一方で，抽出タグは分散が小さく，特定の値の周辺に集中していることがわかった．
既存タグは，人間の可読性や直感的なわかりやすさを重視して作られており，
その知識を問う問題の出現回数は作成時の評価軸に含まれていない．
そのため，基礎的・入門的な問題に関しては多くの生徒に回答される一方，
専門的であったり難易度の高い問題に関しては，回答される回数が必然的に少なくなるため，
タグ間で出現回数に差が出る．
しかし，DKTのモデルに入力される際には，どの知識タグも均等に１つのユニットで表現されるため，
実際の知識獲得過程において各タグが持つ情報量の偏りを十分に表現できない可能性が高い．
一方，抽出タグは，知識獲得予測を最適化する過程で学習されているため，
DKTのモデル構造上，各ユニットが均等に情報量を保つことで，
特定のタグに関する情報量が失われることを防いでいると考えられる．

この性質は，TF-IDF法を用いた各抽出タグの特徴分析とそれに基づいたネットワーク図にも現れている．
図\ref{fig:aNetworkConcentrate}--\ref{fig:kNetworkLittle}に表されるように，
元々出現回数が少ない専門的な既存タグ(小さいノード)は，少数の抽出タグのみで表現されているが，
逆に元々出現回数の多い基礎的な既存タグ(大きいノード)は，複数の抽出タグにまたがって表現されるなど，
より効率的に情報を保持できるタグ構造が抽出されていることがわかる．

さらに，こうした情報量の均等な分配構造は，内容と全く無関係に生成されるものではないこともわかる．
図\ref{fig:aNetworkSimilar}，\ref{fig:kNetworkSimilar}に表されるように，
類似した内容の範囲内で情報量の分配を行っているタグがいくつか見受けられる．
こうしたタグは，情報量を適切に保ちつつ関連知識一般をカバーするようなタグである可能性が高く，
人間が知識を獲得していく過程を考察する上で示唆に富んでいる．



\section{本手法の汎用性と実用性}
次に，本手法の汎用性と実用性について考察する．

\subsection{学習された知識分類の汎用性}
知識分類学習モデルによって学習された知識分類の汎用性について述べる．
一般的な機械学習では，モデルの汎化性能を高めるためにデータを訓練データと検証データを分けるが，
本研究では，全ユーザの問題回答ログを全て訓練データとして，モデルを学習させた．
このようなデータの利用の仕方は，訓練データの分布において最適な結果が得られる一方，
未知のデータに対する汎用性が担保されないため，一般的ではない．
しかし，本研究においては，
知識獲得予測を最適化する知識分類を抽出することを目的とし，
その手段として，これまでの生徒の知識獲得の過程から，帰納的に最適な知識分類を作成するという形を取っており，
これはすなわち，将来の生徒の知識獲得過程は，過去の生徒の知識獲得の過程と同じ分布に従うという前提に立っている．
また，オンライン教育サービスにおいては，日々新たな学習回答ログが蓄積されるため，
その都度知識分類を更新し，より質の高い分類を作成できるという環境が整っている．
以上より，本研究の問題設定においては，これまでの知識獲得過程を全てまとめて訓練データとしても，
学習された知識分類の汎用性は損なわれず，
また，未知のデータが出現した際にも即座にそれを反映し，より適切な知識分類を作成できると判断したため，
知識分類の学習の時点では全データを訓練データとした．
なお，学習された知識分類の性能を検証するDKTの部分においては，既存タグとの精度比較の公平性を期すために，データを訓練・検証・テストに分割している．

一方で，
現在観測されているデータと将来観測されているデータの分布が大きく異る可能性がある場合や，
未知のデータが出現した場合に即座にそれを分類に反映させることが困難な場合には，このようなデータの分割方法は相応しくない．
そのような場合には，全データを訓練・検証・テストに分割することで，
学習された分類の汎化性能を保証する必要があり，
環境や問題設定に応じたデータの扱いや，環境に左右されないモデルの設計が今後の課題といえる．


\subsection{本手法の他データへの適用可能性}
本研究の分析手法の，他の科目やオンライン教育サービスへの適用可能性について考察する．

本研究の手法は，
データセット作成という事前の処理と，
1)知識分類学習モデルによる知識分類の学習，2)学習された知識分類の知識獲得予測性能に関する検証，3)学習された知識分類の性質に関する比較分析
という３つの分析から構成されていた．

データセット作成については，オンライン教育サービスから収集される問題回答ログデータは，サービスや科目によらず大規模であると考えられる．
また，実験の「2)学習された知識分類の知識獲得予測性能に関する検証」，および「3)学習された知識分類の性質に関する比較分析」は，
知識分類学習モデルによって，適切な知識分類を学習できるかに依存する．
% 怪しい？離散化とかの話はどこに入れる？
よって，本手法の他科目や他サービスへの適用可能性は，「1)知識分類学習モデルによる知識分類の学習」に依存すると考えられる．
知識分類学習モデルはDKTを拡張したモデル構造において学習されるため，
DKT自体の他科目や他サービスへの適用可能性によって，本手法の適用可能性も検証されると考えられる．


そこで，DKTの他科目や他サービスにおける予測性能を考察する．

\cite{piech2015deep}では，本研究同様，数学に関するデータセットにおいてのみ，DKTの有効性が検証されていた．
那須野ら[参考文献引用]はリクルートが提供するオンライン教育サービス「学習サプリ」のデータを使って，
算数や数学に関するデータセットと地理や歴史に関するデータセットにDKTを適用した場合，
Bayesian Knowledge Tracingからの精度向上という点では大きな差はないことを確認しており，
DKTの適用可能性は科目に依らない可能性がある．

また，
\cite{piech2015deep}を始めとする既存研究では，モデルへの入力次元には問題に割り当てられたタグが利用されており，
DKTの有効性はタグを用いた場合のみ，検証されていた．
本研究の実験では，
抽出されたタグを比較検証するために，既存のタグが存在するデータセットを用いたものの，
問題回答のみから知識分類を学習できることは，実験結果から示されており，
このことから，既存のタグが存在しないような他科目や他サービスのデータに対しても，
生徒の知識獲得を予測することが可能であることを示している．


一方で，これまで検証されているのは，
特定の科目に関する問題回答ログであり，
総合的な知識レベルを問うような，複数の科目が含まれている問題回答ログへの適用可能性は示されていない．

また，利用できるデータセットは，生徒が該当のオンライン教育サービスで学習する過程で，
段階的に知識を獲得していく前提のデータのみであり，
オンライン教育サービス外での学習や，生徒ごとの能力差，事前知識などの情報に関しては，
DKTが扱うことは難しい可能性がある．


以上のような考察を踏まえると，
本手法は，DKTが分析可能な他サービスや他科目のデータに加え，
DKTによる分析が困難な，事前の知識分類が存在しないデータに対しても適用できるという側面がある一方，
複数科目のデータや生徒に関する事前情報など，
現実に即した複雑な情報が多く含まれたデータに対しては，適用可能性が限定的である可能性もあり，検証が必要である．
% このような例として具体的にどのようなデータが考えられるか？


\subsection{教育現場への適用}
ここまでの考察を踏まえ，本研究の成果を，実際の教育現場に適用し，活用する方法について考察する．

そもそも知識獲得の予測は，
オンライン教育サービスにおいては，
生徒の回答正誤の情報を元に，問題を正答するのに必要な知識を生徒が既に獲得しているかを推定することで，
不足している知識を補ったり，既に獲得している知識を除外したりと，
適切な順序で教材推薦を行うことが主な目的であった．

実験結果から，本手法によって抽出された知識分類を利用することによって知識獲得の予測精度が向上することが確認された．
知識獲得の予測精度が向上するということは，
各生徒の知識状態をより的確に把握して，教材推薦の精度を向上させることを意味する．
よって，
現在オンライン教育サービス上で提供されている問題に対して，
既存の可読性重視の知識タグに加え，本研究で抽出された知識タグを紐付けておくことで，
教材推薦の精度を向上させ，生徒個人への教材の最適化が進み，生徒の学習効率をより高めることができる．
この知識タグの粒度は，本研究では既存タグとの比較のために固定としていたが，自由に設定することが可能なため，サービスごとに適切な粒度を設定することが可能である．
また，本手法は人間による事前の知識分類を必要としないため，人間によって問題が事前に分類されていないようなサービスに対しても，自動で最適な知識分類を作成し，知識獲得予測を行うことも可能である．

このように，知識獲得の予測性能を最適化する知識分類を抽出する本手法は，
オンライン教育サービスの教材推薦システムに組み込むことで，より生徒の学習効率を高めることができる上，
適切な知識分類が存在しないサービスにおいても知識獲得予測を可能にするものである．


\section{今後の展望}
本研究の今後の展望について大きく3つの方針を述べる．
まず，本手法をさらに改善し，より良質な知識分類を学習できるようなモデル構造の可能性について述べ，
次に，教育学における対象データの拡大について述べ，
最後に，教育学以外の分野への本手法の応用について述べる．


\subsection{知識分類学習モデルの改善}
本研究では，知識獲得予測性を最適化する知識分類を抽出するにあたり，
まず，知識分類学習モデルに問題回答ログを入力し，問題から知識分類への写像関数を学習し，
その関数を離散化することで，タグを得ていたが，
連続値の行列を人間の手によって離散化することにより，情報量の減少が避けられなかった．
また，連続表現の知識分類の予測性能と，離散表現の知識分類の予測性能が線形関係にあるとは限らないため，
最適な連続表現を得てそれを離散化したとしても，最適な離散表現が得られるとは断言できない．

よって，得られた知識分類が最適な離散表現であることを確実に示すには，初めから離散表現のタグを深層学習によって学習できることがより望ましい．
これはすなわち，問題の集合の背後に離散的な確率分布が存在することを仮定し，その分布を学習することによって，最適な離散表現のタグを学習することと言える．
データが生成された確率分布を深層学習によって学習するには，一般的な機械学習の識別モデルとは異なる，生成モデルの研究領域における，Variational Autoencoder(VAE)の技術を用いる必要がある\cite{kingma2014semi}．
%VAEでは，学習目的の確率分布からサンプリングを行って分布を学習していく．
%本来サンプリングという行為は微分不可能な関数によって表されるため，誤差逆伝播による学習が不可能だが，
%サンプリング対象の確率分布を生成する別の確率分布を定義するReparameterization Trickと呼ばれる手法により，
%微分可能な関数として学習することが可能になった．
%この確率分布は，分布をパラメータ化し，深層学習の勾配法によってそのパラメータを最適化することによって学習されるものであるため，
%分布が微分可能な関数として記述される必要がある．
%そのため，微分不可能な関数で表現される離散分布は勾配法によって学習できないため，生成モデルによって推定することは不可能とされていたが，
%近年考案されたreparameterization Trick\cite{}と呼ばれる手法を用いることにより，
従来のVAEで学習できるのは連続的な確率分のみとされていたが，
近年の研究により離散分布についても学習することが可能になった\cite{maddison2016concrete, jang2016categorical}．
この手法を用いて知識分類を学習すれば，
入力となる問題を生成する潜在的な離散分布を仮定し，この分布を学習することにより，
勾配法による最適化によって直接最適な離散表現を得ることが可能だと考えられるため，
今後の研究課題である．




\subsection{教育学における対象データの拡大}
次に，教育学における対象データの拡大について述べる．
対象データの拡大とは，科目や難易度の多様化，予測期間の長期化，そして複数科目の統合である．


まず，科目や難易度の多様化について述べる．
本研究では．数学の問題回答ログに対して深層学習を適用し，知識獲得予測に適した知識タグを得た．
これまでのDKTの研究成果から，数学以外の教科に対しても適用できる可能性は高いが，実際にどのような知識タグが抽出されるかは分析していない．
また，今回扱ったデータセットは，小学校から高校程度の数学に関する問題回答ログであり，より高度で専門的な大学レベルの学問に適用する場合についても，どのような知識タグが抽出されるかは分析していない．
知識獲得の最適化に関する知見は，学校側からの指導や生徒自身の学習設計に活用されており，多様な難易度や科目において知識獲得を最適化する知識構造を明らかにすることは，重要であると考えられる．


次に，予測期間の長期化について述べる．
本研究で用いたデータセットの対象期間は，１〜２年程度であった．
しかし，DKTを用いた生徒の知識獲得の予測は，それまでの生徒の知識獲得の過程に依存しており，
できるだけ長い期間の知識獲得を分析するほうが，より高い精度で知識獲得を予測でき，また，より適切な知識タグを抽出できる可能性は高い．


最後に，複数科目の統合について述べる．
本研究や既存研究では，特定の科目について独立に知識獲得を予測し，知識構造を分析している．
しかし，実際の生徒の学習の成長過程は，科目間で完全に独立であるとはいえず，
例えば，歴史と地理や，数学と物理などの科目間では，知識獲得の過程が密接に関係している可能性がある．
一人の生徒の，科目を横断した知識獲得過程に関する研究は，これまで報告されていないが，
複数科目を統合したデータに対して本手法を適用し，
科目を横断した知識分類や包括的な学習設計に関する知見を得ることは，学術的な意義が大きいといえる．
%科目内の分類や学習設計だけでなく，
%包括的な学習設計や，既存の科目という分類にとらわれない，人間が獲得する知識一般に関する知見も得られる可能性がある．


\subsection{教育学以外の分野への応用}
最後に，本手法の教育学以外の分野への応用について述べる．

本手法は，Knowledge Tracingという，
教育学の，知識獲得予測タスクにおける手法だが，
より手法を一般化することで，教育学以外の分野にも応用できる可能性を秘めている．

本手法は，
生徒の時系列問題回答ログから，
回答を重ねるごとに遷移していく知識状態をモデリングし，
知識獲得の過程を適切に表現する知識タグを抽出するというものだが，
これをより一般化して捉えると，
人間の，何らかのコンテンツ集合に対する時系列行動ログから，
行動を重ねるごとに遷移していく人間の何らかの状態をモデリングし，
行動の遷移を適切に説明する分類表現を抽出しているといえる．
教育学の知識獲得の分野においては，
このコンテンツ集合に対する行動が生徒の問題回答であり，
問題回答により遷移する生徒の知識状態をモデリングしているが，
これと同様のことは，教育学に限らず行える可能性がある．
例えば，消費者が商品を購買するログを分析することで，
消費者の嗜好が遷移する過程をモデリングし，
従来の商品分類と異なる，消費者の嗜好の遷移を反映した分類を抽出することが可能になり，
消費者の購買予測がより適切になる可能性がある．
教育学では，問題回答の正誤と知識の間の特殊な関係性をモデル設計に反映しているように，
手法を適用する領域によって調整は必要であるが，
コンテンツに対する行動の時系列性を反映した分類を抽出できる可能性は高く，
様々な領域で，学術的にも，実用的にも，価値の高い知見を得られると考えられる．




\vvspace
以上，考察について述べた．
次章では，結論を述べる．
